<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Чёрная дыра — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/font-cyrillic.css">
    <link rel="stylesheet" type="text/css" href="css/Modules/Black Hole.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setRules(rnd)
        {
            // Add extra randomness
            for (var i = rnd.next(0, 10); i > 0; i--)
                rnd.nextDouble();

            var dots2 = 'M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots3 = 'M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots4 = 'M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';

            var alternative = [
                { dots: dots4, gest: 'M30 70v10h20V70M70 70v10' },  // • └─•─┘ • | •
                { dots: dots3, gest: 'M40 70v10h20V70' },           // • └─•─┘ •
            ];
            var pool = rnd.shuffleArray([
                { dots: dots3, gest: 'M40 70v10m20-10v10' },                    // • | • | •
                { dots: dots4, gest: 'M52.5 70v10H70V70m-40 0v10h17.5V70' },    // • └─•─┘└─•─┘ •
                { dots: dots4, gest: 'M30 70v10M50 70v10h20V70' },              // • | •  └─•─┘ •
                { dots: dots4, gest: 'M30 70v10h40V70' },                       // • └─•──•─┘ •
                alternative [ rnd.next(0, alternative.length) ],
                { dots: dots4, gest: 'M30 70v10M70 70v10' },                    // • | •   • | •
            ]);

            for (var i = 0; i < 5; i++) {
                document.getElementById(`dots-${i}`).setAttribute('d', pool[i].dots);
                document.getElementById(`gest-${i}`).setAttribute('d', pool[i].gest);
            }

            var c = [
                { dots: dots3, gest: 'M37.5 70v10h20V70M62.5 70v10' },          // • └─•─┘| •
                { dots: dots2, gest: 'M47.5 70v10M52.5 70v10' },                // • || •
                { dots: dots3, gest: 'M37.5 70v10M42.5 70v10h20V70' },          // • |└─•─┘ •
            ][ rnd.next(0, 3) ];
            document.getElementById('dots-C').setAttribute('d', c.dots);
            document.getElementById('gest-C').setAttribute('d', c.gest);

            var arr = [
                "Первая цифра - координата x, вторая - координата y.",
                "Вторая цифра - координата x, первая - координата y.",
                "Шестой символ - координата x, третий - координата y.",
                "Третий символ - координата x, шестой - координата y.",
                "Первая цифра - координата x, последняя - координата y.",
                "Последняя цифра - координата x, первая - координата y.",
            ];
            var elem = arr[rnd.next(0, arr.length)];
            document.getElementById('sn-coords').innerText = elem;

            var directions = [ "восток", "юг", "запад", "север" ];
            document.getElementById('initial-direction').innerText = directions [ rnd.next(0, 4) ];

            var rotations = [ "против часовой стрелки", "по часовой стрелке" ];
            document.getElementById('initial-rotation').innerText = rotations [ rnd.next(0, 2) ];
            var rotation2 = rotations [ rnd.next(0, 2) ];
            document.getElementById('rotation-1').innerText = rotation2;
            document.getElementById('rotation-2').innerText = rotation2;

            var widgets = [ "элемент питания и порт", "элемент питания и индикатор", "держатель элементов питания и порт", "держатель элементов питания и индикатор", "порт и индикатор", "порт", "индикатор", "элемент питания", "держатель элементов питания" ];
            document.getElementById('rot-widget').innerText = widgets [ rnd.next(0, widgets.length) ];
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Чёрная дыра</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Black Hole.svg" class="diagram">
                <h2>О Черных Дырах</h2>
                <p class="flavour-text">Не влезай! Убъёт!</p>
                <ul>
                    <li>Для обезвреживания всех Чёрных дыр, получите код из цифр 0–4. Длина кода в 7 раз больше количества Чёрных дыр на одной бомбе. В любой момент времени вы можете ввести следующую цифру на <u>любой</u> необезвреженной Чёрной дыре.
                    <li>Если же вы обезвредили другой модуль (помимо другой Черной Дыры), код сокращается на две цифры. Таким образом, код для одной Черной Дыры можно сократить с 7 до 3 цифр решая другие модули помимо Чёрных дыр. Для двух - с 14 до 6 и т.д.
                    <li>Осмотрите таблицу 10×10 на следующей странице. Вычислите свою начальную позицию с помощью СН. <span class='seedable' id='sn-coords'>3-ий символ СН - координата x, 6-ой символ СН - координата y.</span> Левая верхняя координата - (0,0).
                    <li>Для определения начального направления, начните, смотря на <span class='seedable' id='initial-direction'>север</span>, после повернитесь на 45° <span class='seedable' id='initial-rotation'>по часовой стрелке</span> за каждый <span class='seedable' id='rot-widget'>порт</span> на бомбе.
                    <li>Получите первую цифру кода из начальной позиции, потом пройдите 1 клетку по начальному направлению, а затем повернитесь на 45° <span class='seedable' id='rotation-1'>по часовой стрелке</span>.
                    <li>Следующая цифра - сумма <em>(по модулю 5)</em><span class='footnote-marker'>*</span>, двух соседних по вашему направлению клеток. Получив эти 2 цифры, пройдите на клетку дальше от них, а потом повернитесь на 45° <span class='seedable' id='rotation-2'>по часовой стрелке</span>.
                    <li>Продолжайте, каждый раз добавляя по еще одной клетке. То есть, <var>n</var>-ая цифра кода - сумма (по модулю 5<span class='footnote-marker'>*</span>) <var>n</var> соседних по направлению клеток.
                    <li>Если дошли до края - продолжайте с противоположного.
                    <li><b>ВНИМАНИЕ:</b> Если Чёрных дыр на бомбе несколько, НЕ НАЧИНАЙТЕ ЗАНОВО, переходя к следующей дыре.
                    <li>Следующая страница поясняет взаимодействие с модулем.
                    <li>Действие "C" служит для определения количества правильных цифр, которые вы уже ввели. Мало ли вы запутались.
                </ul>
                <div class='footnotes'>
                    <p class='footnote'><sup>*</sup> "по модулю 5": остаток при делении на 5. Всегда в пределах 0-4.</p>
                </div>
            </div>
            <div class="page-footer relative-footer">Страница 1 из 2</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Чёрная дыра</span>
            </div>
            <div class="page-content">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox='-2 -2 604 94' font-size="28" font-family="Special Elite" text-anchor="middle">
                    <!-- frame -->
                    <path fill="none" stroke="#000" stroke-width="2" d="M0 40h600v50H0zm100 0v50m100-50v50m100-50v50m100-50v50m100-50v50" />

                    <!-- 0 --> <path id='dots-0' class="dots" transform='translate(000, 0)' d="M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 0 --> <path id='gest-0' transform='translate(000, 0)' fill="none" stroke="#000" d="M40 70v10h20V70" />
                    <!-- 1 --> <path id='dots-1' class="dots" transform='translate(100, 0)' d="M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 1 --> <path id='gest-1' transform='translate(100, 0)' fill="none" stroke="#000" d="M40 70v10m20-10v10" />
                    <!-- 2 --> <path id='dots-2' class="dots" transform='translate(200, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 2 --> <path id='gest-2' transform='translate(200, 0)' fill="none" stroke="#000" d="M30 70v10M50 70v10h20V70" />
                    <!-- 3 --> <path id='dots-3' class="dots" transform='translate(300, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 3 --> <path id='gest-3' transform='translate(300, 0)' fill="none" stroke="#000" d="M52.5 70v10H70V70m-40 0v10h17.5V70" />
                    <!-- 4 --> <path id='dots-4' class="dots" transform='translate(400, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 4 --> <path id='gest-4' transform='translate(400, 0)' fill="none" stroke="#000" d="M30 70v10h40V70" />
                    <!-- C --> <path id='dots-C' class="dots" transform='translate(500, 0)' d="M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- C --> <path id='gest-C' transform='translate(500, 0)' fill="none" stroke="#000" d="M47.5 70v10M52.5 70v10" />

                    <text x="50" y="30"><tspan x="50" y="30" fill="#000" stroke="none">0</tspan></text>
                    <text x="250" y="30"><tspan x="250" y="30" fill="#000" stroke="none">2</tspan></text>
                    <text x="150" y="30"><tspan x="150" y="30" fill="#000" stroke="none">1</tspan></text>
                    <text x="350" y="30"><tspan x="350" y="30" fill="#000" stroke="none">3</tspan></text>
                    <text x="450" y="30"><tspan x="450" y="30" fill="#000" stroke="none">4</tspan></text>
                    <text x="550" y="30"><tspan x="550" y="30" fill="#000" stroke="none">C</tspan></text>
                </svg>
                <ul>
                    <li>На рисунке выше, точки обозначают отсчет таймера (точка соответствует тику таймера или изменению секунд на таймере), слева направо.
                    <li>Линия обозначает нажатие (не зажимание!). Убедитесь, что вы нажимаете <em>и</em> отпускаете модуль между "тиками" таймера.
                    <li>Скобка обозначает зажимание модуля на протяжении "тиков" таймера, которые охвачены скобкой.
                </ul>
                <table class='grid'>
                    <tr><td>3</td><td>4</td><td>1</td><td>0</td><td>2</td><td>3</td><td>1</td><td>2</td><td>0</td><td>4</td></tr>
                    <tr><td>1</td><td>3</td><td>0</td><td>2</td><td>4</td><td>1</td><td>2</td><td>3</td><td>4</td><td>0</td></tr>
                    <tr><td>3</td><td>2</td><td>4</td><td>2</td><td>1</td><td>3</td><td>0</td><td>0</td><td>1</td><td>4</td></tr>
                    <tr><td>4</td><td>0</td><td>0</td><td>1</td><td>3</td><td>4</td><td>2</td><td>2</td><td>1</td><td>3</td></tr>
                    <tr><td>1</td><td>2</td><td>1</td><td>3</td><td>0</td><td>0</td><td>4</td><td>3</td><td>4</td><td>2</td></tr>
                    <tr><td>4</td><td>0</td><td>2</td><td>3</td><td>4</td><td>1</td><td>3</td><td>0</td><td>2</td><td>1</td></tr>
                    <tr><td>2</td><td>1</td><td>3</td><td>1</td><td>3</td><td>0</td><td>4</td><td>4</td><td>0</td><td>2</td></tr>
                    <tr><td>2</td><td>4</td><td>4</td><td>0</td><td>0</td><td>2</td><td>1</td><td>1</td><td>3</td><td>3</td></tr>
                    <tr><td>0</td><td>1</td><td>3</td><td>4</td><td>2</td><td>2</td><td>0</td><td>4</td><td>3</td><td>1</td></tr>
                    <tr><td>0</td><td>3</td><td>2</td><td>4</td><td>1</td><td>4</td><td>3</td><td>1</td><td>2</td><td>0</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Страница 2 из 2</div>
        </div>
    </div>
</body>
</html>